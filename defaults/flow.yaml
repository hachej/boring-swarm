# boring-swarm default state machine
# Override per-project by placing flow.yaml in .bsw/

states:
  needs-impl:
    role: implementer
    transitions:
      - to: needs-proof
        action: implementation_complete
      - to: blocked
        action: blocked

  needs-proof:
    role: proofer
    transitions:
      - to: needs-review
        action: tests_pass
      - to: needs-impl
        action: tests_fail
        sticky_owner: true

  needs-review:
    role: reviewer
    transitions:
      - to: done
        action: approved
      - to: needs-impl
        action: changes_requested

  blocked:
    transitions:
      - to: needs-impl
        action: unblocked

  done:
    terminal: true
